/* Strawberry 0.0.1-alpha.0
 * Copyright (c) 2023-present, Alan Tom (18alantom)
 * MIT License
 * This is a generated file. Do not edit.*/
"use strict";var sb=(()=>{var _=Object.defineProperty;var L=Object.getOwnPropertyDescriptor;var D=Object.getOwnPropertyNames;var P=Object.prototype.hasOwnProperty;var $=(t,e)=>{for(var n in e)_(t,n,{get:e[n],enumerable:!0})},C=(t,e,n,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of D(e))!P.call(t,s)&&s!==n&&_(t,s,{get:()=>e[s],enumerable:!(i=L(e,s))||i.enumerable});return t};var j=t=>C(_({},"__esModule",{value:!0}),t);var Y={};$(Y,{init:()=>B,load:()=>z,register:()=>R,unwatch:()=>X,watch:()=>U});var N=/\w+(\??[.]\w+)+/g,y=null,E=null,x="sb-",d=t=>x+t;function w(t,e){if(t!==null&&(typeof t=="object"||typeof t=="function")&&Object.defineProperty(t,"__sb_prefix",{value:e,enumerable:!1,writable:!0}),typeof t!="object"||t===null)return t;for(let n of Object.keys(t)){let i=g(n,e),s=t[n];t[n]=w(s,i)}return new Proxy(t,m)}var m=class{static get(e,n,i){if(n==="__parent")return q(e);let s=Reflect.get(e,n,i);return s?.__sb_dependencies?s():s}static set(e,n,i,s){if(typeof n=="symbol")return Reflect.set(e,n,i,s);let r=g(n,e.__sb_prefix),o=w(i,r);typeof i=="function"&&this.setDependents(i,r,e,n);let u=Reflect.set(e,n,o,s);return this.update(i,r,!1,e,n),this.updateComputed(r),u}static deleteProperty(e,n){if(typeof n=="symbol")return Reflect.deleteProperty(e,n);let i=g(n,e.__sb_prefix),s=Reflect.deleteProperty(e,n);this.update(void 0,i,!0,e,n);for(let r of this.dependents[i]??[])this.update(r.computed,r.key,!1,r.parent,r.prop);for(let r of Object.keys(this.dependents))this.dependents[r]=this.dependents[r]?.filter(o=>o.key!==i)??[];return s}static defineProperty(e,n,i){return n==="__sb_prefix"&&"__sb_prefix"in e&&/\.\d+$/.test(i.value)?Reflect.set(e,n,i.value):Reflect.defineProperty(e,n,i)}static setDependents(e,n,i,s){var o;Object.defineProperty(e,"__sb_dependencies",{value:!1,enumerable:!1,writable:!0});let r=new Set;for(let u of e.toString().matchAll(N)){let a=u[0]?.replace("?.",".");if(!a)continue;let f=a.indexOf(".")+1,c=a.slice(f);if(r.has(n+c))continue;let l=c;l.includes(".")&&(l=l.slice(0,l.indexOf("."))),E?.hasOwnProperty(l)&&(r.add(n+c),(o=this.dependents)[c]??(o[c]=[]),this.dependents[c].push({key:n,computed:e,parent:i,prop:s}),e.__sb_dependencies=!0)}}static updateComputed(e){let n=Object.keys(this.dependents).filter(i=>i===e||i.startsWith(e+".")||e.startsWith(i+".")).flatMap(i=>this.dependents[i]??[]);for(let i of n)this.update(i.computed,i.key,!1,i.parent,i.prop)}static update(e,n,i,s,r){if(typeof e=="function"&&(e=w(e(),n)),e instanceof Promise){e.then(o=>this.update(w(o,n),n,!1,s,r));return}this.callWatchers(e,n),this.callDirectives(e,n,i,s,r)}static callWatchers(e,n){for(let i of Object.keys(this.watchers))if(n===i)this.watchers[i]?.forEach(s=>s(e));else if(n.startsWith(i+".")&&E!==null){let s=T(i,E);this.watchers[i]?.forEach(r=>r(s))}}static callDirectives(e,n,i,s,r,o,u){if(y){y.push([e,n,i,s,r]);return}let a=Array.isArray(s);a&&/^\d+$/.test(r)&&!u?H(n,r,e,s):a&&r==="length"&&O(s);let f=k(e);if(f&&Array.isArray(e)){let c=`${n}.#`,l=`[${d("mark")}="${c}"]`,h=[];for(let b of document.querySelectorAll(l)){let p=W(b,c,e);h.push(p)}for(let b of h)for(let p in e)this.callDirectives(e[p],g(p,n),i,e,p,b[p],!0)}else if(f)for(let c in e)this.callDirectives(e[c],g(c,n),i,e,c,o);if(!f){o??(o=document);for(let c in this.directives){let l=x+c,h=this.directives[c];o.querySelectorAll(`[${l}='${n}']`).forEach(p=>h(p,e,n,i,s,r)),o instanceof Element&&o.getAttribute(l)===n&&h(o,e,n,i,s,r)}}}};m.watchers={},m.dependents={},m.directives={mark:(e,n,i,s)=>{if(s)return I(e);if(!(e instanceof HTMLElement))return;typeof n=="object"&&n!==null&&(n=JSON.stringify(n));let r=typeof n=="string"?n:String(n);e.innerText=r},if:(e,n,i)=>{let s=!!n,r=e instanceof HTMLTemplateElement;if(s&&r){let o=e.firstElementChild??e.content.firstElementChild;if(!o)return;o.setAttribute(d("if"),i),e.replaceWith(o)}if(!s&&!r){let o=document.createElement("template");o.appendChild(e.cloneNode(!0)),o.setAttribute(d("if"),i),e.replaceWith(o)}}};function H(t,e,n,i){let s=document.querySelectorAll(`[${d("mark")}="${t}"]`);if(s.length&&!k(n))return;let r=i.__sb_prefix,o=t.replace(/\d+$/,"#"),u=!1;for(let f of s){let c=f.nextElementSibling;for(;c&&c.getAttribute(d("mark"))!==o;)c=c.nextElementSibling;let l;if(c instanceof HTMLTemplateElement)l=c.content.firstElementChild?.cloneNode(!0);else if(c?.getAttribute(d("mark"))===o)l=c?.cloneNode(!0);else continue;l instanceof Element&&(A(e,r,o,l),f.replaceWith(l),u||(u=!0))}if(u)return;let a=document.querySelectorAll(`[${d("mark")}="${o}"]`);for(let f of a){if(!(f instanceof HTMLTemplateElement))continue;let c=f.content.firstElementChild?.cloneNode(!0);c instanceof Element&&(A(e,r,o,c),f.before(c))}}function O(t){let e=g("#",t.__sb_prefix),n=document.querySelectorAll(`[${d("mark")}="${e}"]`);for(let i of n){let s=[],r=i.previousElementSibling,o=!0,u=-1;for(;r;){let f=r;r=f.previousElementSibling;let c=f?.getAttribute(d("mark"));if(c){if(c===e)break;if(c.replace(/\d+$/,"#")===e){if(s.push(f),!o)continue;let l=Number(c.slice(c.lastIndexOf(".")+1)??-1);u!==-1&&u!==l+1&&(o=!1),u=l}}}if(o)return;[...s].sort((f,c)=>{let l=f.getAttribute(d("mark")),h=c.getAttribute(d("mark"));if(!l||!h)return 0;let b=l.split("."),p=h.split("."),S=+(b[b.length-1]??0),M=+(p[p.length-1]??0);return S-M}).forEach(f=>i.before(f))}}function W(t,e,n){let i=t.previousElementSibling;for(;i;){let a=i;i=a.previousElementSibling;let f=a?.getAttribute(d("mark"));if(f)if(f!==e&&f.replace(/\d+$/,"#")===e)a?.remove();else break}let s,r;if(t instanceof HTMLTemplateElement?(s=t,r=t.content.firstElementChild,r?.setAttribute(d("mark"),e)):(r=t,s=document.createElement("template"),s.content.appendChild(t.cloneNode(!0)),s.setAttribute(d("mark"),e),t.replaceWith(s)),r===null)return console.warn(`empty template found for ${e}`),[];let o=e.slice(0,-2),u=[];for(let a in n){if(Number.isNaN(+a))continue;let f=r.cloneNode(!0);f instanceof Element&&(A(a,o,e,f),s.before(f),u.push(f))}return u}function A(t,e,n,i){let s=g(t,e);for(let r in m.directives){let o=x+r;i.getAttribute(o)===n&&i.setAttribute(o,s),i.querySelectorAll(`[${o}]`).forEach(u=>{let a=u.getAttribute(o);if(a?.startsWith(n)){let f=s+a.slice(n.length);u.setAttribute(d("mark"),f)}})}}function I(t){let e=t.parentElement;if(!(t instanceof HTMLElement)||!e)return t.remove();if(t.getAttribute(d("mark"))===e.getAttribute(d("mark")))return e.remove();t.remove()}function k(t){return typeof t!="object"||t===null?!1:"__sb_prefix"in t}function g(t,e){return e===""?t:e+"."+t}function T(t,e){for(let n of t.split(".")){let i=typeof e;if(e===null||i!=="function"&&i!=="object")return;e=Reflect.get(e,n)}return e}function q(t){let e=t.__sb_prefix;if(!e)return;let n=e.lastIndexOf(".");return n===-1?E:T(e.slice(0,n),E)}function B(t){return E??(E=w({},"")),x=t?.prefix??x,document.currentScript?.parentElement instanceof HTMLHeadElement&&document.readyState==="loading"&&y===null&&(y=[]),t?.directives&&(m.directives={...m.directives,...t.directives}),v(),document.addEventListener("readystatechange",F),document.addEventListener("DOMContentLoaded",V),E}function F(){document.readyState==="interactive"&&v()}function V(){let t=y??[];y=null,t.forEach(e=>m.callDirectives(...e))}async function z(t){typeof t=="string"&&(t=[t]);for(let e of t){let n=await fetch(e).then(i=>i.text()).catch(i=>console.error(i));typeof n=="string"&&R(n)}}function R(t,...e){Array.isArray(t)&&(t=Q(t,...e)),typeof t=="string"&&(t=J(t)),v(t)}function v(t){let e=t??document;for(let n of e.getElementsByTagName("template"))G(n)}function Q(t,...e){let n=t[0]??"";for(let i=1;i<t.length;i++)n+=e[i-1],n+=t[i];return n}function J(t){let e=document.createElement("div");return e.innerHTML=t,e}function G(t){let e=t.getAttribute("name")?.toLowerCase();if(!e||customElements.get(e))return;let n=class extends HTMLElement{constructor(){super();let i=this.attachShadow({mode:"open"});for(let s of t.content.children)s&&i.appendChild(s.cloneNode(!0))}};customElements.define(e,n)}function U(t,e){var n;(n=m.watchers)[t]??(n[t]=[]),m.watchers[t].push(e)}function X(t,e){if(!t){m.watchers={};return}if(!e){delete m.watchers[t];return}let n=m.watchers[t]??[];m.watchers[t]=n.filter(i=>i!==e)}return j(Y);})();
